@startuml
left to right direction
skinparam packageStyle rectangle

actor "学生" as Student
actor "医生" as Doctor
actor "护士" as Nurse

rectangle "智能候诊系统业务边界" {
    
    ' --- 学生端功能 ---
    usecase "扫码签到" as UC_SignIn
    usecase "查看排队进度" as UC_ViewProgress
    
    ' --- 医生端功能 ---
    usecase "查看候诊列表" as UC_ViewList
    usecase "呼叫病号" as UC_Call
    usecase "标记过号" as UC_Skip
    
    ' --- 护士端功能 ---
    usecase "处理过号重排" as UC_ReQueue
    usecase "管理医生状态" as UC_ManageStatus
    usecase "维护科室信息" as UC_ManageDept

}

' --- 关系定义 ---
Student --> UC_SignIn
Student --> UC_ViewProgress

Doctor --> UC_ViewList
Doctor --> UC_Call
Doctor --> UC_Skip

Nurse --> UC_ReQueue
Nurse --> UC_ManageStatus
Nurse --> UC_ManageDept

' --- 业务规则备注 (体现细致度) ---
note right of UC_SignIn
  前置条件：已在挂号机挂号
  作用：进入候诊队列
end note

note bottom of UC_ViewProgress
  显示内容：
  1. 我的号码
  2. 前方等待人数
end note

note left of UC_Call
  系统逻辑：
  自动分配病人给空闲医生
  避免抢号
end note

note bottom of UC_ReQueue
  <b>关键业务规则：</b>
  不排队尾，也不直接插队
  规则为：当前叫号位 <b>顺延3位</b>
end note

note bottom of UC_ManageStatus
  场景示例：
  医生去开会 -> 暂停接诊
  停止分派新病人
end note

@enduml