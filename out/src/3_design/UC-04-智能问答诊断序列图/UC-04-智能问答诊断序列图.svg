<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="851px" preserveAspectRatio="none" style="width:971px;height:851px;" version="1.1" viewBox="0 0 971 851" width="971px" zoomAndPan="magnify"><defs><filter height="300%" id="f1uk9vmorguzoe" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="219" x="376" y="32.6279">UC-07 退役报废设备序列图</text><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="606.6479" style="stroke:#A80036;stroke-width:1.0;" width="10" x="38" y="139.7031"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="582.8936" style="stroke:#A80036;stroke-width:1.0;" width="10" x="217" y="163.4575"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="519.3848" style="stroke:#A80036;stroke-width:1.0;" width="10" x="395" y="195.2119"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="31.7544" style="stroke:#A80036;stroke-width:1.0;" width="10" x="637" y="226.9663"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="31.7544" style="stroke:#A80036;stroke-width:1.0;" width="10" x="637" y="317.2524"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="31.7544" style="stroke:#A80036;stroke-width:1.0;" width="10" x="637" y="407.5386"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="91.2632" style="stroke:#A80036;stroke-width:1.0;" width="10" x="757" y="591.5791"/><rect fill="#FFFFFF" filter="url(#f1uk9vmorguzoe)" height="242.3496" style="stroke:#000000;stroke-width:2.0;" width="398" x="318" y="273.7207"/><rect fill="#FFFFFF" filter="url(#f1uk9vmorguzoe)" height="83.2861" style="stroke:#000000;stroke-width:2.0;" width="378" x="328" y="364.0068"/><rect fill="#FFFFFF" height="61.7773" style="stroke:none;stroke-width:1.0;" width="398" x="318" y="454.293"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="43" x2="43" y1="129.7031" y2="764.3511"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="221.5" x2="221.5" y1="129.7031" y2="764.3511"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="400" x2="400" y1="129.7031" y2="764.3511"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="642" x2="642" y1="129.7031" y2="764.3511"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="762" x2="762" y1="129.7031" y2="764.3511"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="5" y="126.627">运维工程师</text><ellipse cx="43" cy="53.583" fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M43,61.583 L43,88.583 M30,69.583 L56,69.583 M43,88.583 L30,103.583 M43,88.583 L56,103.583 " fill="none" filter="url(#f1uk9vmorguzoe)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="5" y="779.395">运维工程师</text><ellipse cx="43" cy="792.4712" fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M43,800.4712 L43,827.4712 M30,808.4712 L56,808.4712 M43,827.4712 L30,842.4712 M43,827.4712 L56,842.4712 " fill="none" filter="url(#f1uk9vmorguzoe)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="103" x="168.5" y="91.583"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="175.5" y="114.627">:Web管理门户</text><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="103" x="168.5" y="763.3511"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="175.5" y="786.395">:Web管理门户</text><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="120" x="338" y="91.583"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="345" y="114.627">:LifecycleService</text><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="120" x="338" y="763.3511"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="345" y="786.395">:LifecycleService</text><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="52.2402" style="stroke:#A80036;stroke-width:1.5;" width="104" x="588" y="72.4629"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="595" y="95.5068">:IoTConnector</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="615" y="114.627">(MQTT)</text><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="52.2402" style="stroke:#A80036;stroke-width:1.5;" width="104" x="588" y="763.3511"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="595" y="786.395">:IoTConnector</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="615" y="805.5151">(MQTT)</text><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="52.2402" style="stroke:#A80036;stroke-width:1.5;" width="108" x="706" y="72.4629"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="713" y="95.5068">:GraphAdapter</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="737" y="114.627">(Neo4j)</text><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="52.2402" style="stroke:#A80036;stroke-width:1.5;" width="108" x="706" y="763.3511"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="713" y="786.395">:GraphAdapter</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="737" y="805.5151">(Neo4j)</text><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="606.6479" style="stroke:#A80036;stroke-width:1.0;" width="10" x="38" y="139.7031"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="582.8936" style="stroke:#A80036;stroke-width:1.0;" width="10" x="217" y="163.4575"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="519.3848" style="stroke:#A80036;stroke-width:1.0;" width="10" x="395" y="195.2119"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="31.7544" style="stroke:#A80036;stroke-width:1.0;" width="10" x="637" y="226.9663"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="31.7544" style="stroke:#A80036;stroke-width:1.0;" width="10" x="637" y="317.2524"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="31.7544" style="stroke:#A80036;stroke-width:1.0;" width="10" x="637" y="407.5386"/><rect fill="#FEFECE" filter="url(#f1uk9vmorguzoe)" height="91.2632" style="stroke:#A80036;stroke-width:1.0;" width="10" x="757" y="591.5791"/><polygon fill="#A80036" points="205,159.4575,215,163.4575,205,167.4575,209,163.4575" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="211" y1="163.4575" y2="163.4575"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="55" y="158.6011">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="66" y="158.6011">请求退役设备(deviceId)</text><polygon fill="#A80036" points="383,191.2119,393,195.2119,383,199.2119,387,195.2119" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="227" x2="389" y1="195.2119" y2="195.2119"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="234" y="190.3555">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="245" y="190.3555">decommission(deviceId)</text><polygon fill="#A80036" points="625,222.9663,635,226.9663,625,230.9663,629,226.9663" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="631" y1="226.9663" y2="226.9663"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="412" y="222.1099">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="423" y="222.1099">checkStatus(deviceId)</text><polygon fill="#A80036" points="416,254.7207,406,258.7207,416,262.7207,412,258.7207" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="410" x2="641" y1="258.7207" y2="258.7207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="422" y="253.8643">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="433" y="253.8643">isOnline</text><path d="M318,273.7207 L379,273.7207 L379,282.7207 L369,292.7207 L318,292.7207 L318,273.7207 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="242.3496" style="stroke:#000000;stroke-width:2.0;" width="398" x="318" y="273.7207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="333" y="289.6187">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="123" x="394" y="288.3267">[设备在线 (Happy Path)]</text><polygon fill="#A80036" points="625,313.2524,635,317.2524,625,321.2524,629,317.2524" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="631" y1="317.2524" y2="317.2524"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="412" y="312.396">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="423" y="312.396">sendCommand(WIPE_DATA)</text><polygon fill="#A80036" points="416,345.0068,406,349.0068,416,353.0068,412,349.0068" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="410" x2="641" y1="349.0068" y2="349.0068"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="422" y="344.1504">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="433" y="344.1504">ack</text><path d="M328,364.0068 L401,364.0068 L401,373.0068 L391,383.0068 L328,383.0068 L328,364.0068 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="83.2861" style="stroke:#000000;stroke-width:2.0;" width="378" x="328" y="364.0068"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="343" y="379.9048">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="151" x="416" y="378.6128">[轮询直到完成 (Max 3 times)]</text><polygon fill="#A80036" points="625,403.5386,635,407.5386,625,411.5386,629,407.5386" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="631" y1="407.5386" y2="407.5386"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="412" y="402.6821">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="423" y="402.6821">getCommandResult()</text><polygon fill="#A80036" points="416,435.293,406,439.293,416,443.293,412,439.293" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="410" x2="641" y1="439.293" y2="439.293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="422" y="434.4365">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="433" y="434.4365">status=COMPLETED</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318" x2="716" y1="455.293" y2="455.293"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121" x="323" y="467.8989">[设备离线 (Force Path)]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="447" y1="495.0703" y2="495.0703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="447" x2="447" y1="495.0703" y2="508.0703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="406" x2="447" y1="508.0703" y2="508.0703"/><polygon fill="#A80036" points="416,504.0703,406,508.0703,416,512.0703,412,508.0703" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="412" y="490.2139">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="423" y="490.2139">logAudit("强制退役 - 无法物理擦除")</text><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="447" y1="546.8247" y2="546.8247"/><line style="stroke:#A80036;stroke-width:1.0;" x1="447" x2="447" y1="546.8247" y2="559.8247"/><line style="stroke:#A80036;stroke-width:1.0;" x1="406" x2="447" y1="559.8247" y2="559.8247"/><polygon fill="#A80036" points="416,555.8247,406,559.8247,416,563.8247,412,559.8247" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="412" y="541.9683">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="430" y="541.9683">revokeCertificate()</text><polygon fill="#A80036" points="745,587.5791,755,591.5791,745,595.5791,749,591.5791" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="405" x2="751" y1="591.5791" y2="591.5791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="412" y="586.7227">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="430" y="586.7227">executeTransaction()</text><path d="M772,604.5791 L772,649.5791 L962,649.5791 L962,614.5791 L952,604.5791 L772,604.5791 " fill="#FBFB77" filter="url(#f1uk9vmorguzoe)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M952,604.5791 L952,614.5791 L962,614.5791 L952,604.5791 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="778" y="624.4771">1. MATCH (d)-[r]-() DELETE r</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="778" y="642.2314">2. SET d.status = 'RETIRED'</text><polygon fill="#A80036" points="416,678.8423,406,682.8423,416,686.8423,412,682.8423" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="410" x2="761" y1="682.8423" y2="682.8423"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="422" y="677.9858">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="440" y="677.9858">txCommitted</text><polygon fill="#A80036" points="238,710.5967,228,714.5967,238,718.5967,234,714.5967" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="232" x2="399" y1="714.5967" y2="714.5967"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="244" y="709.7402">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="262" y="709.7402">return Success</text><polygon fill="#A80036" points="54,742.3511,44,746.3511,54,750.3511,50,746.3511" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="221" y1="746.3511" y2="746.3511"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="60" y="741.4946">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="78" y="741.4946">提示"设备已安全退役"</text><!--MD5=[60845eb9838c18aaa786adc972f36feb]
@startuml
title UC-07 退役报废设备序列图
autonumber
skinparam sequence {
    LifeLineBorderColor #A80036
    LifeLineBackgroundColor #FEFECE
    ParticipantBorderColor #A80036
    ParticipantBackgroundColor #FEFECE
    ActorBorderColor #A80036
    ActorBackgroundColor #FEFECE
    ArrowColor #A80036
}

actor "运维工程师" as User
participant ":Web管理门户" as UI
participant ":LifecycleService" as Service
participant ":IoTConnector\n(MQTT)" as MQTT
participant ":GraphAdapter\n(Neo4j)" as DB

activate User

User -> UI : 请求退役设备(deviceId)
activate UI

UI -> Service : decommission(deviceId)
activate Service

' - - - 步骤1：检查在线状态 - - -
Service -> MQTT : checkStatus(deviceId)
activate MQTT
MQTT - -> Service : isOnline
deactivate MQTT

alt 设备在线 (Happy Path)
    ' - - - 步骤2：物理擦除 - - -
    Service -> MQTT : sendCommand(WIPE_DATA)
    activate MQTT
    MQTT - -> Service : ack
    deactivate MQTT
    
    loop 轮询直到完成 (Max 3 times)
        Service -> MQTT : getCommandResult()
        activate MQTT
        MQTT - -> Service : status=COMPLETED
        deactivate MQTT
    end
else 设备离线 (Force Path)
    Service -> Service : logAudit("强制退役 - 无法物理擦除")
end

' - - - 步骤3：逻辑清理 (无论在线离线都要做) - - -
Service -> Service : revokeCertificate()

' - - - 步骤4：图谱清理 - - -
Service -> DB : executeTransaction()
activate DB
note right of DB
    1. MATCH (d)-[r]-() DELETE r
    2. SET d.status = 'RETIRED'
end note
DB - -> Service : txCommitted
deactivate DB

Service - -> UI : return Success
deactivate Service

UI - -> User : 提示"设备已安全退役"
deactivate UI
deactivate User
@enduml

@startuml
title UC-07 退役报废设备序列图
autonumber
skinparam sequence {
    LifeLineBorderColor #A80036
    LifeLineBackgroundColor #FEFECE
    ParticipantBorderColor #A80036
    ParticipantBackgroundColor #FEFECE
    ActorBorderColor #A80036
    ActorBackgroundColor #FEFECE
    ArrowColor #A80036
}

actor "运维工程师" as User
participant ":Web管理门户" as UI
participant ":LifecycleService" as Service
participant ":IoTConnector\n(MQTT)" as MQTT
participant ":GraphAdapter\n(Neo4j)" as DB

activate User

User -> UI : 请求退役设备(deviceId)
activate UI

UI -> Service : decommission(deviceId)
activate Service

Service -> MQTT : checkStatus(deviceId)
activate MQTT
MQTT - -> Service : isOnline
deactivate MQTT

alt 设备在线 (Happy Path)
    Service -> MQTT : sendCommand(WIPE_DATA)
    activate MQTT
    MQTT - -> Service : ack
    deactivate MQTT
    
    loop 轮询直到完成 (Max 3 times)
        Service -> MQTT : getCommandResult()
        activate MQTT
        MQTT - -> Service : status=COMPLETED
        deactivate MQTT
    end
else 设备离线 (Force Path)
    Service -> Service : logAudit("强制退役 - 无法物理擦除")
end

Service -> Service : revokeCertificate()

Service -> DB : executeTransaction()
activate DB
note right of DB
    1. MATCH (d)-[r]-() DELETE r
    2. SET d.status = 'RETIRED'
end note
DB - -> Service : txCommitted
deactivate DB

Service - -> UI : return Success
deactivate Service

UI - -> User : 提示"设备已安全退役"
deactivate UI
deactivate User
@enduml

PlantUML version 1.2021.00(Sun Jan 10 18:25:05 CST 2021)
(MIT source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>